<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Image Upscaler - Academic Project</title>
    <link rel="stylesheet" href="static/style.css">
</head>
<body>
    <div class="container">
        <div class="notification-container" id="notification-container"></div>
        
        <header>
            <div class="header-actions">
                <button id="help-btn" class="header-btn" aria-label="Show help">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                        <line x1="12" y1="17" x2="12.01" y2="17"></line>
                    </svg>
                </button>
                <button id="dark-mode-toggle" class="header-btn" aria-label="Toggle dark mode">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                </button>
            </div>
            <h1>AI Image Super-Resolution System</h1>
            <p class="subtitle">BEng Software Engineering Final Project | University of Bolton</p>
            <p class="project-info">By Mohamed Isa Mohamed Irfan (2430690) | Supervisor: Dr Loraine Anne</p>
        </header>

        <div class="upload-area" id="upload-area">
            <div class="upload-box" id="upload-box">
                <div class="upload-initial-content">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="17 8 12 3 7 8"></polyline>
                        <line x1="12" y1="3" x2="12" y2="15"></line>
                    </svg>
                    <h3>Drag & Drop your image here</h3>
                    <p>or click to browse files</p>
                </div>
                <p class="file-size-limit">Max file size: 10MB</p>
                <input type="file" id="file-input" accept="image/*">
            </div>
            <div class="file-info hidden" id="file-info">
                <span class="filename" id="filename"></span>
                <span class="filesize" id="filesize"></span>
            </div>
            <div class="security-badge">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                </svg>
                <span>All processing done locally - Your images never leave your device</span>
            </div>
        </div>

        <div class="controls">
            <div class="scale-selector">
                <label for="mode">Upscale Mode:</label>
                <select id="mode" onchange="updateScaleOptions()">
                    <option value="CPU">CPU</option>
                    <option value="GPU">GPU</option>
                </select>

                <label for="scale">Upscale Factor:</label>
                <select id="scale">
                    <option value="2">2× (RRDBNet)</option>
                    <option value="4" selected>4× (GAN-enhanced)</option>
                </select>
            </div>
            <button id="upscale-btn" class="upscale-button" disabled>
                <span class="button-text">Upscale Image</span>
                <span class="button-loader hidden"></span>
            </button>
        </div>

        <div class="results hidden" id="results">
            <div class="comparison-container hidden" id="comparison-container">
                <div class="image-comparison">
                    <div class="comparison-wrapper">
                        <img id="original-image" src="#" alt="Original Image">
                        <img id="upscaled-image" src="#" alt="Upscaled Image">
                        <div class="divider" id="divider">
                            <div class="handle">
                                <svg viewBox="0 0 16 16" width="16" height="16">
                                    <path d="M4 8V6M12 8V6M8 4H6M8 12H6" stroke="currentColor" stroke-width="2"></path>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="metrics-container">
                <h3>Academic Metrics</h3>
                <div class="metric">
                    <span class="metric-label">Upscale Technique:</span>
                    <span id="technique-metric" class="metric-value">-</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Model Architecture:</span>
                    <span id="model-metric" class="metric-value">-</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Processing Time:</span>
                    <span id="time-metric" class="metric-value">-</span>
                </div>
                <div class="metric">
                    <span class="metric-label">Resolution Increase:</span>
                    <span id="resolution-metric" class="metric-value">-</span>
                </div>
            </div>

            <div class="download-container">
                <button id="download-btn" class="download-button" disabled>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="7 10 12 15 17 10"></polyline>
                        <line x1="12" y1="15" x2="12" y2="3"></line>
                    </svg>
                    Download Upscaled Image
                </button>
            </div>
        </div>

        <div class="technical-details">
            <h2>Technical Implementation</h2>
            <div class="methodology-grid">
                <div class="method-card">
                    <h3>CNN Architecture</h3>
                    <p>RRDBNet with 23 residual blocks and 64 features</p>
                </div>
                <div class="method-card">
                    <h3>GAN Enhancement</h3>
                    <p>Adversarial training for photorealistic results</p>
                </div>
                <div class="method-card">
                    <h3>Dataset</h3>
                    <p>Pre-trained on DIV2K dataset</p>
                </div>
            </div>
            <button id="research-btn" class="research-btn">View Full Methodology</button>
        </div>

        <!-- Modal -->
        <div class="modal hidden" id="help-modal">
            <div class="modal-content">
                <button class="close-btn">&times;</button>
                <h2>How to Use This Tool</h2>
                <div class="steps-grid">
                    <div class="step-card">
                        <span class="step-number">1</span>
                        <h3>Upload Image</h3>
                        <p>Drag and drop any image file into the upload area or click to browse your files.</p>
                    </div>
                    <div class="step-card">
                        <span class="step-number">2</span>
                        <h3>Select Upscale Factor</h3>
                        <p>Choose between 2× (faster) or 4× (higher quality) enhancement.</p>
                    </div>
                    <div class="step-card">
                        <span class="step-number">3</span>
                        <h3>Process & Download</h3>
                        <p>Click "Upscale Image" and download your enhanced result when ready.</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal" id="research-modal">
            <div class="modal-content">
                <button class="close-btn">&times;</button>
                <h2>Research Methodology</h2>
                <div class="modal-grid">
                    <div class="modal-card">
                        <h3>Technical Framework</h3>
                        <ul>
                            <li><strong>Backend:</strong> Flask with Python 3.9</li>
                            <li><strong>AI Models:</strong> Real-ESRGAN (2× and 4×)</li>
                            <li><strong>Libraries:</strong> PyTorch, Basicsr, Pillow</li>
                        </ul>
                    </div>
                    <div class="modal-card">
                        <h3>System Architecture</h3>
                        <ol>
                            <li>User uploads image via web interface</li>
                            <li>Server pre-processes image (RGB conversion)</li>
                            <li>Selected model performs super-resolution</li>
                            <li>Result delivered back to user</li>
                        </ol>
                    </div>
                    <div class="modal-card">
                        <h3>Key Innovations</h3>
                        <ul>
                            <li>Local processing for privacy</li>
                            <li>Dual-model approach (CNN/GAN)</li>
                            <li>Academic metrics reporting</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>© 2025 Mohamed Isa Mohamed Irfan | BEng Software Engineering | University of Bolton</p>
        </footer>
    </div>

    <script src="static/JS/script.js"></script>
    <script>
        function updateScaleOptions() {
            const mode = document.getElementById('mode').value;
            const scaleDropdown = document.getElementById('scale');
            scaleDropdown.innerHTML = ''; // Clear existing options

            // Add options based on the selected mode
            if (mode === 'CPU') {
                scaleDropdown.innerHTML += '<option value="2">2× (RRDBNet)</option>';
                scaleDropdown.innerHTML += '<option value="4">4× (GAN-enhanced)</option>';
            } else if (mode === 'GPU') {
                scaleDropdown.innerHTML += '<option value="2">2× (RRDBNet)</option>';
                scaleDropdown.innerHTML += '<option value="4">4× (GAN-enhanced)</option>';
                scaleDropdown.innerHTML += '<option value="6">6× (Enhanced)</option>';
                scaleDropdown.innerHTML += '<option value="8">8× (4K Enhancement)</option>';
            }
        }
    </script>
</body>
</html>
